import{u as G,a as z,O as U,b as X,d as K,e as R,l as g,W as Q,f as V}from"./app-f9974b74.js";import{r as I,h as b,c as $,A as _,C as ee,E as te,o as ae,B as se,j as e,R as j,w as le,K as oe,i as ne}from"./framework-f363b17b.js";const ce="eJzdXNuOHEdy/ZX0ALY52J7hktoLPIIMzAyvBikSGkq0sNRDdXd2d5nVVaW6zLBFEFj4wZCwhgHvmz/BT371g/9B/8Af2F/wORGZWZndNUMOPX7YBXal6bpkZkRGRJ44EaW3e7f3jvCPrM7ljy7vCrt3tHf8/PHeZG9WlZ0tu3bv6Hdv91Y2m9sG93CjLfql/hU9std22cZ0fWnne9+9++7dZO/2oi9nXV6VWZGM/iKbFtZUCxPevvZcc9tleWEODw/9XHO7rm7P85ZjH666dRHPeE+u5+XSFNmm6juTlXOzsFnXN/YTZv+26s0sK42bzrTV2hovrIztpsGvbmVNnS2tmW5Ma7uOi+C1Bw0GXGddZxuqwj92iKlerPJW38G/OQ1EwwNZ5yds5fFFVRTVBcfzkhzh5S+z82nW4I+zfG71r5MGEs2afj3Fj+cybrmoGkyO5eLSKVbS5NO+qxoq4/487wyU9Rp/f13Ps86aLl9bvtvY89tf2jfh9mm1XkMp+OtBVUESTpbNXpsO661qgyE7zBDvkC1nzabudnbovl6n/o6bLp/h4rW35QWUks26PitMpmN4C6NWn2dNtmyyemXumI4y1H+2F1Jx7m4/9Jd3IfXydda8nlcX5Y4RPXU3zP1ylZWzTzChb3oLI29bM83afJYVxcYsbWkbOgE9sjWLplqbMNEihzcemrPKwN8lJvQt3KujB4QX59Wsp5uIv5mqMdOiWpo27zCcxTzFhhvKoNKuqr6YmxkcFu8xkFw0eGxrvgkCjsaDsFzODDnObYOpV3bN+ef5YmEbzOtWns1mVTOX+FPJQKbtmh7+0iDqQLuRfsJ8jxEZqjke0kjhlOY34CBPb8eafLwQlWQN5DClvTCFzRooRKSaV+X73/9HZ16X1YVZ4f9YUSrpxNR4Abpk7Brkl/XIEOHSPZjEpetHaFvky5GVY6l6Y3T3vVwSQPBcj33k3iFqYsdmq2F2CdN9S61GEZ37+RgxloExivMM5yZf11XTZdgWjD2zdYfZwkYeGqe3REN5N5GLpbVzqkp0Eg8cb9Olurj/BoK24xsJHwv3tkNqGMDdiNdrLvKiMFM6R9NicTjkBuPAqi9WObTV9jVlbk27gRe8MWG21pznWfwGdr1f5mW7LUSYz3m2O3WcGOe9rXn3wCZ3E0EqY8uGi/HeKAaHfZsMwqwyOCTXNocoQWxdNLf0AbYf3gWrHCS4xFAjEePt3RIL6gVyGJWJXmyvEOhk48wuCK+qO1jP/VsTgQkykBOrNesKDrklmvhT3VTnQAytoZJgUk47AdbsrP20bzuEQoKHLIdjD0ufyR26WLgTr/wsW1jEVQbKt2/NedbkAqLevaOm/NKobjfDC4nuk71jowPH6EVsUiaBJXYr/JxDbKKTqwbo8np48YrnLhCxqIOPeXaelUus4qMeFfCKoB09+02OEHlPbmzbSDYlKvNmob+SqHXpq6fQhknfp4IOrjXIWV/bpp01OSIVDeWsn+qvYVD4t3/kAI8ctNEj8SR3/g5b9OjusyvlPS7yZRSiMvczOVtMtjYz/BLVya8mX66wPvfwFaN3nYBcP7r7GY9+bC5wTiIYnHPv8zkt6fIBCXxLYN9hzMVwJQ2lCP+Cbhhm/EO/u/Pd1ePTIdKAfUkywlvR4UIZWnP12C+y9nWRt3HUGa7Ec5jnBWY4xlX96+TKYR+veSiORrWct66IajA2ChAypVlVIOa2iEiIYbS+Nv+Bir3C5lfA/pG9u58fZ+v35fHIPmy48HEDPEBG5qf05hBd+rhBnlpEt3we7Xq48HEDvLBvoi2VH/GL73/8559/avDP5v3v/3Dr5582P/+EP/a/GP58ewsIdbPf/CL/4s77H/+dz/38U37r/Y9/vLOfN+//8F+38Pof81/c2XcP8hceene1XZSzokdEEhAb2YRePvCX46WOIHpJYAOue+Czbk3x+UCUShIbXm0tjJDuqThCMs/4+AjZbQo1Sx8Pw4V4gHsgQohwm8NHVU1UPOtrZUGA0+2huXKhcLvNsqn6MjKLOr72cUsFEKEH7wwFEAH8cO3hCGp8YhOtK7162VCO6MD/fDAMCPP9v/znn/7735KkT8iR7YQvtYVr5npELpxsagEnrCKjmRIaXFRjl1lDIIhoLSjfvpnZBtTFtg54j2B/IFS8HhjrUqplLHAj1jm2J8I1ERRCHtBuJxdCdfTdCsERS33aikn5Gx66CXWD2/+QlX3WbMydibn7y7u/JDLBnWWFS7j7au9hD+D3iup5kS2RokAPr2LVvtqT0Ds8OKIAp8wt4Z24I4JzkkVjAU995ocEpxmQKSCoyHPcQj2MCl5bsFKkZXKOIEu3rWDW9F2XJIN9kqzJJdXEm40toN5zKwixNbfyQ3t4hDSYdBEUJhDy8Pa+5HnEzR70u+mwKYcebt+uezCKM2TZjZ2BOduERIATAWBVRQ+prphoax7unGJ1hwuZLDrEOM3mS0t27xibimN+WsCP5aIiCv0ThAABP3A+wwpmZlAZ2aszn/Zv7VagA8aQi1io5yd0gVyQcIunjlsUpCu2klr9i2en5lZgfZ2ptPu48xShYMvueRhQR/1APcqQnDRiKR31yD9HKM+r6MjBllS7iNTKmWB7dQMqOT3IvSIvotwgfQbvi6NSHIweOBbWnyfj4Qiul+HMjM6bcOGmDz7Pwmff3zT9/nJlkeISf9dNDnNfFBZeKpbfibHAzbinmoEORLXz+u97vIsUEGAT8RW/WtE3JokI/aXtzugvt8vs/Kkt+53gH/T9DLTXOQ6WS+UYZ7GuIK+Oy80DijRkxaACNZuuKmRuMRmzzkpujIQg0YOhJy/ypoU70nj5MAk/mhd5O2vC8OuqzGHPVM2gMj4vtErL8EiaT4oD7v6wJH0OgcQW9hz7oQuR4ysk7eZr2RKsxyuL6J6Hmo5Kt8Civu/z2WtuyGxGHqTCrQbUjL1wPmAbmTqbr/MS75MNQxC9lBq4ZzX9S9SNJUcXY217U8ZlfXNKa35ki1pk9ItTdZC1hChY5EI2BcaU1yJ0JkeF82LdiomnNmDxa1ZNIDbyOsROC4U1lrmGslYqciQgogyp2nkDSRtIiFilm2XOLUgteNDUMkXEBc6xzl4zcDdQcV2VEsAQvjLMQdIVPBk9xr0JkomuI+/ZNyy24C+mbzKNRNtQTGKYWnlNYKeED6R8fhWgkXsJnZNIFaoiECEVoouvSamIWyCDFkqaDqtb5UN1CpF26egMVIPEkqBcdedgiWKk/kmsMytIPwPI5Qtw5zKDRd6CZ9Tsp8SW0FReTCvh056q6/Ce6pn5XoHjVHhyLYq5fVxks7zIIZY+npeQFfjFPaRv/62jVGakKAcpKXvy0DTXDXIqJIUgZ20yd9gr2aWrjUxZTm4VmFBC6BpGhfBShVEm0cGG9eXnbsvavq2VJ+ScYRq122HWRKeiZjGVE8AN7Kuupe+goB9cjQG+MbbQ8UDCq/J4MoaULpx+nRhYFizZYtfx78gV1ZG2HnaQZgilidkAvFbcH62x4J+zHveBXVdWzDQ2cUZaMJdAHAgZPAzTUobsrfra4M9y0Z7neFjNzj3oxqT2HnKjiIB5fVZAA4OOYwOQjcx0X50K+6auWOfBuyilpKYZhWFuIk432KkXZb4pszVQY4qPjiFOj2DoTUjrP6hQI7iMBiapoWhkSnaYGAhUg/diNyv9okdkwooePj8zWLq4NMMbYg3PH+gfjkyoJIps3RhyutQWs3AzE0nluON57zZ9d5vnfVgHytZMLvmsjK+yqxgcY5VN8w4+EtfQElOFlp21ulq7P828wjyQg1rcXI5BkrMpxRMwYKR5u8nkS73Oybw0f/UJ0GhkFPMSJgvos8rqGqZZDREdi9KsgEcytBH9PjTHjEoYpGvsayeibVRLcoi501qskzS67UTF0As2B7cm2LJkJjHPCrhEehOk0ATTkkAxee70K9emLC1oeQcWAIMArSrOIVWrdW2hMyKAbH6OSzD3iUzE/eZcxM8Cq+0CL+Wo+SM7AjWJKbCBoP87/NY0gaaO3catBQxrSvOSauhXNisOBD6FM0wTArIFCA8NThG1y9OVhd0C0jfmWyTsSMUBhpiQ4S+okkCTcBkx38dEhAdxZjqAP3pdwc75JDsIJMpKfapeVaXmIHKc0cksHApCLzIoU2nJNbI/hgqLurU7XCXk5M38AMUxbM2Lp2eatyB/xHnbUoFPo6D2JYK8AP1HyH3hsxlEr14TqbkKqQdCsdFoDShxFo06+ui0z5GvweNoh4MrMI9PcgLJ7C819kcg18Gsg2D3mHsw/5W/dzDeT5MiwxPJztyrmqrFzjPNfghJwBbJnvDrW681Gbc4yh0Qv+Yo3qQyPnIXzd8YBFxYNwLfp3T/7PY5ufpmMptnsr/y3ngTE4UYJvsqweU24Hx9ZyeYnfHqkXnCojvYCDr8kGxcfynHCwJWga3e3nYifpS5LOhtIXUZyXIEcL22G9aNA3AYBlJA5Y7mVT/1YF9Ojwin0dT11JdSJbE4ngorcwAgBoMINNx6wWE+IujRh0uHDNQSWuc5g6HixuBY4tELBhqgD4noGQ4tHOgoZwo5o+GFGZbc9JfMEx/CjvWqT3ikUUmu3A9QzxcH3Y2vUYtGJom1er2PaPOWS01wbV93ig+WZIZoHdHGSBOGjydfkQ2DkONQd8h4or8+YId3R+3w7hGOsraa5QQOl052Q6n7Nw5ppQBaRBXEfYKuHBw16CSIbjrcKOalv3ZS9WAFDm4D5RWbFiaaol7E7bDbLU8JnGc4J2SIHYw9wUnJFiE1hfiwFNvcSaf07LskMyHYltPeIaUAg8PKWXcEUiAeHeqETQVlEV8BNDkaUm0by8ejWNdFtlGQoXmLgwjqWzR7IYMivA0bO/ctinhHqFGPYmQJbhwc/2AqIBDGwzBPximSGAOGFTjXdSaVJh1nxITREpMXMeNwYoY5jus6lsOtOtItyxSlDMIZ5EEwOui2iJeckF7Qn2+NAYCo6gPAjSSLc7AdxBjcVavXiCpoBgDuY9hk8JPc3INiT8JMsw6xcUgit5ThrYO8KEsqIQr3KoAo3mkmrDBJxobHhBaIdpb9S34i3CU2THX/lGkMtRLOWi4uPW0BSsFtg/MsYA3RU4pm5SnPiw95Z+ixQUeb17cbRZXQkRfOYa3Q6/hBr06VjABCF81cQiPLlMjFZ9yhwS13G5Gi8DJEELCypR5JUUlNn5SGiGBJrIgMT8ZxC6U0dj2KMKjda3etHHQpmSFHeZSbDsmfbjXZVZQkIuOFsNhjpy07J+lAA2qfYEtLYm9JvEtQ+MwuZlljvnn8pbkN/xeF+hvIa3t6BiAef6FKWoBy6mbSaONWGlicXRbGTYq2DWy8ImodOQHWpyipoItBpUKhUhzqIel74zWvpJGyJDN5/Hg+93cF6WMCjOBT7mgRE+NvJvQCDnAF8SBSseqBDuk2NWwvL2uoXC0u2ohtCsLBkuE83Ury76luHnNyxpPOIlJkWHrm1ZZSFFt+zW46FfdMl/lYlvXF34v4bLDUUf70P/96X9hFN2givhsA8VkdEZSfkX5ufYWzv9o7IXi7Jx6Pyl+NkA0lRLrRYODOqEuC8IBCgjLGY0dMeen5iwd95ywTxGSQgVvR6YOqZLvi7VGSqUCjLHJugB5/bI+gJzn1KgeNpAqsTpbQ5mziu9QAz6z9EDL6bBQZfXZkTl2vrxE66tOa3lE/4ecNrYQywcouwVWCynFbgYX6v1JankCiEgeibIzbkthwuUsrAzfu0F4d2kTnanROrOCxF5YH56FiH/zpbE4vq2CyocOrkA/HAUxLsnixaWUFDkkhyEGL8rE33oEwqJplVgbY5hTnyYOJPyBdVIycZYgFzruOzxHppAL3BHkCHMx5PfxOeEpenbiKe2A2HcaMn8EjmmpJyq8rgkwkl+DUdPEJ7XJHxwKHJOowZqggAjjIzJC3IufC7oPBUfymEcUzm2F+gy0SG8ABIWO4TmB1Nm471ukSF6f5J7Amx15Ryx0LJnB5a3HWSprClSX5yQldiAt44usjBn7q6m1u1z7kd78a9btfHZn73meSCa7vf+PjPBbMyOqgKxrFtnD9wlH8tiThCv4jpO1N8XMG363txBEGcMkWwWgxhS2XiMGwLKEZ0iwmAIvBwgMNt11aUYJa1iwABHIzDVn0Ypu+buV2basyB55AICfW57EoSwowMIdFORWOAc3JLo0mRsOJ1/54RKFiYLTQr3yNEEyKhoh/XlRihO3Rg4Z68/e1ekByVVUu3wNgxnA/Voc/YzJ64uXjJI9l+wAlzteDjocnPo+OZtg3qT94r3SrQ7mk82eV4BBSoxOMN90395rsQrKOYrMcMg3tl/UbjaFVHlGPm4/V4DgVgd7nHOv5MJKjJWb7UOk/ITTr4eHu86wBxZuuFi98ziWRcMH/ZuxZ4oNoa5COkowYSyqteCRdKBhQ0NBpxOInLvaNvCFLPVAJNCX3gzdofwCLk5NXmO8L4w4TAxWHBalM3jCwagFAakEJbSK4Vnc7WFba55Xtk+VDaZndbsyqt2qr0vvQrGVXmIwd+a87Lph5Yz6WtK+2kPTDD21+OmN8fMYGsRohXgb61qdWPvgbRWDSite4aiOg54iLSJ0/1XHw+k84GL5MnGvrUCCzHc7ZccDlC9/OTgM//4E4/+vROP/rIypIMlKcQMdCqJBmD4TK9eN9aEuguUAl/JJhOOpuqDIPDmAHQNNFFGVorNW6O4barcnnaI2aE2hL1wRhuq/EJxTEWFleAV7fIlfzBf01gg1jtye+BhSPOh0Osbr+9MBMpBdvCMuyrIuIIyZFbwF9AtrY5p9h7KE3AQBQThh8+SkSB/TlmxOUgldM5S6dZ+yhU6IBR1Y8GdbmvvrSheh0Yv/AKnmFFFrTReimL/AxCRm0nYYJR8D4Zs3tMdI8ZyebfGkt6zdn6Hyf91J5d9blBtLpWP3vO/ZAji9UzQGyySda2FUNI5J4iT0IPaMbeJwqletOtBddEN0JZXdhTqQrjvUXdt7DTIAepNOmNLf+cf+vOfDpqTSngS6jEcEb3J+LBbfbVgtwntLUn7THSHaBAh0wjn64PUC0M9SkeZ4/lNyJO6izmXW94jItKpTQq3YyJg/JgNH6WPabS8YaJidxBAp1laMmzRo8v/dk6y88CsvgLGiClMrjwDkkZTzG6qhZAbefgdktpUMvxAEIz7NN1FYx8dqxeOYSqV0IqSnNEFKthDCIO7wh7214Pz0ukMkI28FP7N7k6x7k9cJ85rdeYYTDNVtePVBw6wpFWSykFnwOVGrpny4mwPOEDB0KySEuafxITCqqQ/hxxgOTQGPaZYg92JA1vz9yh8TQXJcmqy4uY3OxqXp0+SCsenARG7GCTKvzTaTH8snx1leWKbexJct2P0k41UIYSppLt3uOBL/Atx1yeYXGt0WGWBKeIz3qwThSPe1ITUHzQOaAf2T5WRvoh89VIV6iVvfN6wdO0t+MnqS/cUwF14aewu2Ppj6qhnhTXS4TtjiAqiUdDz08E/gL+KWGy7fCgcOlcptdJL7nPolmV5DtLtgEKMfEBSvKDyUaFzKMsww5aaFsHtZqFIq1w2QI4oH+wLOH5uuyyJHQBVAnj+kZHXIrOOHWMIw5vjedWU/+hjwtqqDOisOrmkZJaSedQt3KgWrpq9H2aegNakZ3j/4XHIJi5CUnpRzjKip4oiXqzd66hywnzTLdF+gDOFGWwgEE3ed0Rfr+x+ewL13ZYqP1WIjBTzOq8sicwFbEhIhXX+0p+yBfL4xCEK0AUCDaQoRANB8E+gDmKvSmDsCr8vOhcIodbQM766lj3/nUBBaqhtr4uR1xPp6DOYt2Hb2UULrKJ8UpAB3eq5uvDSd9otvAH+0yQMD45JTUzIMwTrzEEwYBY7LipoUNRrMt5iBaeCSWbZAskSu2WidYRHIN/KmCUVpUKCRqNqM3UGqUHphMK5GHMCc+IslPSiNzTbRAt3JPmgwNlcGhaPGiIalnTMw9NOwXFT4D9+VOFhY/EG5/Oxpuf3s0DDZSqrxu5I3eBp+g/wkZT8x48UIJbqTeNDS3Dwcdv04YXZ/7JIZxjNhJCifPzuTOGWaSTIYXH1bVEkrn52juxq3jct5Uua8+7Ps0yE/lC7cAIzBkh9Xddg9lXclWcbjMIT4KWKw7KIvmGvEZPwkGRixCcLBoGAmFtFpflp7GHQihB7JGuq6nMgvAOhYkFOF4wAwCp51YaITC/3/YsYQTaYe65ma7Fq3QSKJfUu3Ml86D3dXXbq4RA600ri8KJesw/sT9N5vSzwVkpfGnAv7CZc1hkTBoB7uNBrAd5X0lTWE3rzzOl3yGUgGC/j8qD/PdgPLSFrl37/4XZ7nTDg==";const J=()=>e(g,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));J.displayName="CloseIcon";const W=()=>e(g,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));W.displayName="HeadingIcon";const q=()=>e(g,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));q.displayName="HeartIcon";const P=()=>e(g,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));P.displayName="HistoryIcon";const T=()=>e(g,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));T.displayName="TitleIcon";const re={},ie=300,Y=5,ue={"/":{cancel:"Cancel",placeholder:"Search for keywords",search:"Search",select:"to select",navigate:"to navigate",exit:"to exit",history:"Search History",emptyHistory:"Empty Search History",emptyResult:"No results found",loading:"Loading search indexes..."}},he="search-pro-history-results",m=G(he,[]),ve=()=>({history:m,addHistory:a=>{m.value.length<Y?m.value=[a,...m.value]:m.value=[a,...m.value.slice(0,Y-1)]},removeHistory:a=>{m.value=[...m.value.slice(0,a),...m.value.slice(a+1)]}}),pe=I(ce),de=b(()=>JSON.parse(Q(pe.value))),C=(a,h)=>{const v=a.toLowerCase(),s=h.toLowerCase(),n=[];let l=0,u=0;const p=(t,d=!1)=>{let o="";u===0?o=t.length>20?`… ${t.slice(-20)}`:t:d?o=t.length+u>100?`${t.slice(0,100-u)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&n.push(o),u+=o.length,d||(n.push(["strong",h]),u+=h.length,u>=100&&n.push(" …"))};let y=v.indexOf(s,l);if(y===-1)return null;for(;y>=0;){const t=y+s.length;if(p(a.slice(l,y)),l=t,u>100)break;y=v.indexOf(s,l)}return u<100&&p(a.slice(l),!0),n},M=a=>a.reduce((h,{type:v})=>h+(v==="title"?50:v==="heading"?20:v==="custom"?10:1),0),ye=(a,h)=>{var v;const s={};for(const[n,l]of Object.entries(h)){const u=((v=h[n.replace(/\/[^\\]*$/,"")])==null?void 0:v.title)||"",p=`${u?`${u} > `:""}${l.title}`,y=C(l.title,a);y&&(s[p]=[...s[p]||[],{type:"title",path:n,display:y}]),l.customFields&&Object.entries(l.customFields).forEach(([t,d])=>{d.forEach(o=>{const c=C(o,a);c&&(s[p]=[...s[p]||[],{type:"custom",path:n,index:t,display:c}])})});for(const t of l.contents){const d=C(t.header,a);d&&(s[p]=[...s[p]||[],{type:"heading",path:n+(t.slug?`#${t.slug}`:""),display:d}]);for(const o of t.contents){const c=C(o,a);c&&(s[p]=[...s[p]||[],{type:"content",header:t.header,path:n+(t.slug?`#${t.slug}`:""),display:c}])}}}return Object.keys(s).sort((n,l)=>M(s[n])-M(s[l])).map(n=>({title:n,contents:s[n]}))},Oe=a=>{const h=z(),v=I([]),s=b(()=>de.value[h.value]),n=V(l=>{v.value=l?ye(l,s.value):[]},ie);return le([a,h],()=>{n(a.value)}),v};var Ie=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:h}){const v=_(),s=ee(),n=z(),l=U(ue),{history:u,addHistory:p,removeHistory:y}=ve(),t=te(a,"query"),d=Oe(t),o=I(0),c=I(0),B=I(),H=b(()=>d.value.length>0),E=b(()=>d.value[o.value]||null),Z=()=>{o.value=o.value>0?o.value-1:d.value.length-1,c.value=E.value.contents.length-1},D=()=>{o.value=o.value<d.value.length-1?o.value+1:0,c.value=0},F=()=>{c.value<E.value.contents.length-1?c.value=c.value+1:D()},L=()=>{c.value>0?c.value=c.value-1:Z()},A=r=>r.map(i=>ne(i)?i:e(i[0],i[1])),S=r=>{if(r.type==="custom"){const i=re[r.index]||"$content",[k,w=""]=oe(i)?i[n.value].split("$content"):i.split("$content");return A([k,...r.display,w])}return A(r.display)},f=()=>{o.value=0,c.value=0,h("updateQuery",""),h("close")};return ae(()=>{X("keydown",r=>{if(H.value){if(r.key==="ArrowUp")L();else if(r.key==="ArrowDown")F();else if(r.key==="Enter"){const i=E.value.contents[c.value];s.path!==i.path&&(p(i),v.push(i.path),f())}}}),K(B.value,{reserveScrollBarGap:!0})}),se(()=>{R()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?u.value.length===0:!H.value}],ref:B},t.value===""?u.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},l.value.history),u.value.map((r,i)=>e(j,{to:r.path,class:["search-pro-result-item",{active:c.value===i}],onClick:()=>{console.log("click"),f()}},()=>[e(P,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[r.type==="content"&&r.header?e("div",{class:"content-header"},r.header):null,e("div",S(r))]),e("button",{class:"search-pro-close-icon",onClick:k=>{k.preventDefault(),k.stopPropagation(),y(i)}},e(J))]))])):l.value.emptyHistory:H.value?e("ul",{class:"search-pro-result-list"},d.value.map(({title:r,contents:i},k)=>{const w=o.value===k;return e("li",{class:["search-pro-result-list-item",{active:w}]},[e("div",{class:"search-pro-result-title"},r||"Documentation"),i.map((O,x)=>{const N=w&&c.value===x;return e(j,{to:O.path,class:["search-pro-result-item",{active:N,"aria-selected":N}],onClick:()=>{p(O),f()}},()=>[O.type==="content"?null:e(O.type==="title"?T:O.type==="heading"?W:q,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[O.type==="content"&&O.header?e("div",{class:"content-header"},O.header):null,e("div",S(O))])])})])})):l.value.emptyResult)}});export{Ie as default};
